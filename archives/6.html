<!DOCTYPE html>
<html lang="zh-CN"><head><title>小说更新提示工具 | FutureApple的博客</title><meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover"><meta name="renderer" content="webkit"><link rel="icon" href="https://cdn.jsdelivr.net/gh/FutureApple/Web-File@master/images/logo.png"><script type="text/javascript">
var pandastudio_framework = {"current_user":{"logged_in":false,"name":false,"email":false,"id":0}};
</script><link href="https://cdn.jsdelivr.net/gh/FutureApple/Web-File@master/niRvana32/dark.css.css" rel="stylesheet" type="text/css" /><link href="https://cdn.jsdelivr.net/gh/FutureApple/Web-File@master/niRvana32/icon.css" rel="stylesheet" type="text/css" /><script language=javascript>window.onerror = function(){return true;}</script></head><body class="black-color dark-slider"><div id="wrapper"><div class="row">
<div class="main-nav float"><div class="container" style="height: 100%;"><div class="row" style="height: 100%;"><div class="col-sm-12 col-md-3 logo"><a href="../index.html"><img src="https://cdn233.2890.ltd/2020/03/19/64ee1f31edafc.png"></a></div><div class="col-sm-12 col-md-8 col-xl-8_5 menu-wrap">
<div class="menuLeft">
</div><div class="searchRight visible-xs visible-sm" style="margin-right: -8px;
    margin-top: -48px;"><div class="normal_searchBtn" style="" onclick="javascript:location.href='https://lo-li.icu/search.html'"><i class="icon font_family icon-search"></i></div></div>
<div pandatab="" class="topNav" style="width:100%" active-class=".current-menu-item,.current-menu-ancestor" sub-class=".sub-menu">
<ul class="menu">
<li class="menu-item "><a href="../index.html"><i class="icon font_family icon-home"></i> 首页</a></li>
<li class="menu-item " style="display:inline-block!important">
<a href="../friends.html" title="友人帐"><i class=""></i> 友人帐</a>
</li>
<li class="menu-item " style="display:inline-block!important">
<a href="../guestbook.html" title="留言"><i class=""></i> 留言</a>
</li>
<li class="menu-item " style="display:inline-block!important">
<a href="../about.html" title="关于"><i class=""></i> 关于</a>
</li>
</ul>
</div></div><div class="col-md-1 col-xl-0_5 hidden-xs hidden-sm"><div class="normal_searchBtn" style="" onclick="javascript:location.href='https://lo-li.icu/search.html'"><i class="icon font_family icon-search"></i></div></div><div class="mobileNavMenuBtn visible-xs visible-sm"><div class="menuIcon" @click="this.toggle_mobile_menu()"><div class="bread bread1"></div><div class="bread bread2"></div><div class="bread bread3"></div></div></div></div></div></div></div>
<div id="main"><div class="container coverflow-wrapper"><div id="coverflow" class="unfull"><div class="showBox"><div class="current"><div class="page"><div class="container flex-row-middle coverflow"><div class="content flex-column-middle" style="width: 100%;"><div class="category"><a href="../category/Development.html">开发</a></div><h1>小说更新提示工具</h1></div>
<div class="image flex-center">
<div class="card" style="background-image: url(https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg);"></div>
</div>
</div></div></div></div>
<div class="imgColor" style="background:url(https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg) no-repeat;-webkit-filter: blur(50px);-moz-filter: blur(50px);-ms-filter: blur(50px);filter: blur(50px);transform: scale(1.2);background-size:cover;background-position: center;"></div>
</div></div>
<div class="container postListsModel"><div class="row"><div class="col-md-12 col-lg-12"><div class="col-xs-12"><div class="row postLists"><div class="article_wrapper post clearfix"><div class="meta"><span class="inline-block"><i class="icon font_family icon-clock"></i>9月12日 · 2019年</span><span class="inline-block"><i class="icon font_family icon-bookmark"></i><a href="../category/Development.html">开发</a></span>
</div><article class="clearfix">
<h1>小说更新提示工具</h1><p>好久没有写文章了，这次带来的是我自己写的小说更新提示工具。我原本是准备写一个小说内容的爬虫的，但是最近学校说要打击盗版，支持正版，因此我写了小说更新提示工具。废话不多说，上代码!</p><h3>需求模块</h3><ul><li>requests（爬虫模块）</li></ul><h3>代码</h3><pre><code class="lang-Python"># 导入爬虫模块，正则模块
import requests
import re
import time
# 询问小说名
book_name = input('请输入需要查询的小说名称:')
# 获取搜索页源代码
request = requests.get('https://www.biquge5200.cc/modules/article/search.php?searchkey=%s' % book_name)
request = request.text
# 清洗
book_url_list = re.findall(r'&lt;td class=&quot;odd&quot;&gt;&lt;a href=&quot;(.*?)&quot;&gt;',request)
x = 0
Len = len(book_url_list)
if Len &gt;= 8:
    for m in range(8):
        book_request = requests.get(book_url_list[x])
        book_request = book_request.text
        book_name = re.findall(r'&lt;meta property=&quot;og:title&quot; content=&quot;(.*?)&quot;/&gt;',book_request)[0]
        book_number = re.findall(r'https://www.biquge5200.cc/(.*?)/',book_url_list[x])[0]
        book_author = re.findall(r'&lt;meta property=&quot;og:novel:author&quot; content=&quot;(.*?)&quot;/&gt;',book_request)[0]
        print('书名:%s  编号:%s  作者:%s' % (book_name,book_number,book_author))
        x += 1
else:
    for book_url_src in book_url_list:
        book_request = requests.get(book_url_src)
        book_request = book_request.text
        book_name = re.findall(r'&lt;meta property=&quot;og:title&quot; content=&quot;(.*?)&quot;/&gt;',book_request)[0]
        book_number = re.findall(r'https://www.biquge5200.cc/(.*?)/',book_url_src)[0]
        book_author = re.findall(r'&lt;meta property=&quot;og:novel:author&quot; content=&quot;(.*?)&quot;/&gt;',book_request)[0]
        print('书名:%s  编号:%s  作者:%s' % (book_name,book_number,book_author))
print('最多显示8个结果！')
# 用信息提示输入框输入一个统一资源定位符并放入一个变量
url = input('请输入你要监视更新的小说网址编号:') 
url = 'http://www.biquge5200.cc/%s' % url
# 模拟浏览器发送一个Http Get请求。
request = requests.get(url)
# 设置编码
request.encoding = 'gbk'
# 将网页源代码存入变量以方便清洗
html = request.text
# 获取小说名称
title = re.findall(r'&lt;meta property=&quot;og:title&quot; content=&quot;(.*?)&quot;/&gt;',html)[0]
# 将url_ord设置为空
url_old = ''
# 清洗网页内容
while True:
    request = requests.get(url)
    dl = re.findall(r'&lt;dl&gt;.*&lt;/dl&gt;',html,re.S)[0]
    a = re.findall(r'&lt;dd&gt;&lt;a href=&quot;(.*?)&quot;&gt;(.*?)&lt;/a&gt;&lt;/dd&gt;',dl)
    # 获取每一章的链接和名称
    for book in a:
        book_url,book_title = book
        book_url = 'http://www.biquge5200.cc%s' % book_url
        '''你的通知装置'''
    if book_title != url_old:
        severjiang = requests.get(severjiang_url)
        url_old = book_title
        print('发现新内容，已向手机发送通知')
    else:
        print('没有新内容')
    time.sleep(30)
</code></pre><h3>ServerChan</h3><p>通知装置我推荐使用<a href="http://sc.ftqq.com/3.version">ServerChan</a>,他是一个简单的微信公众号通知工具，只需要一个Get请求就可以向手机发送通知，最主要的是他是一个开源项目！！！</p></article>
<div class="share-modal" style="text-align: center;">
<a class="toWeibo" target="_blank" href="http://service.weibo.com/share/share.php?url=https://lo-li.icu/archives/6.html&appkey=FutureApple的博客&title=小说更新提示工具&pic=https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg"><i class="icon font_family icon-weibo" data-toggle="tooltip" data-placement="auto top" data-original-title="分享到微博" style="background:radial-gradient(circle farthest-corner at 75% 25%,#ff7a60 0,#e6162d 100%)"></i></a>
<a class="toWeibo" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://lo-li.icu/archives/6.html&title=小说更新提示工具&pics=https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg&summary=&desc=我正在『FutureApple的博客』阅读《小说更新提示工具》，你也一起来看吧！"><i class="icon font_family icon-qq" data-toggle="tooltip" data-placement="auto top" data-original-title="分享到 QQ" style="background:radial-gradient(circle farthest-corner at 75% 25%,#20b8ff 0,#20a0ff 100%);box-shadow:0 10px 10px -2px hsla(206, 100%, 56%, 0.6)"></i></a>
<a class="toWeibo" href="javascript: void(0);" onclick="qrcode();"><i class="icon font_family icon-qrcode" data-toggle="tooltip" data-placement="auto top" data-original-title="文章海报" style="background: radial-gradient(circle farthest-corner at 75% 25%,#737373 0,#393f47 100%);box-shadow: 0 10px 10px -2px rgba(57, 63, 71, 0.6)"></i></a>
<a class="toWeibo" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://lo-li.icu/archives/6.html&title=小说更新提示工具&site=FutureApple的博客&pics=https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg&summary=&desc=我正在『FutureApple的博客』阅读《小说更新提示工具》，你也一起来看吧！"><i class="icon font_family icon-star" data-toggle="tooltip" data-placement="auto top" data-original-title="分享到空间" style="background: radial-gradient(circle farthest-corner at 75% 25%,#ffce00 0,#ff9900 100%);box-shadow: 0 10px 10px -2px rgba(255, 153, 0, 0.6)"></i></a>
<a class="toWeibo" target="_blank" href="https://plus.google.com/share?url=https://lo-li.icu/archives/6.html"><i class="icon font_family icon-google" data-toggle="tooltip" data-placement="auto top" data-original-title="分享到谷歌" style="background:radial-gradient(circle farthest-corner at 75% 25%,#9bd330 0,#67C23A 100%);box-shadow: 0 10px 10px -2px rgba(103,194,58,.6)"></i></a>
</div>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#uuid-timestamp-1582358403386" style="display: none;" id="openbox"></button>
<div class="modal fade" id="uuid-timestamp-1582358403386" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="display: none">
<div class="wechat-cover modal-dialog" role="document" style="transform:scale(0.8);margin-top: -40px;margin-bottom: -60px">
<div class="modal-content">
<div class="modal-header" style="background: url(https://cdn233.2890.ltd/2020/03/19/e83b6aa1d6d4d.jpg) no-repeat;background-size: cover;height:400px;text-align: center;background-position: center;">
<h3 style="padding-left: 15px;padding-right: 15px;margin-top:350px;color: #fff;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;background: linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.5));line-height: unset!important;margin-left: -15px;margin-right: -15px;">小说更新提示工具</h3><p>
</p></div>
<div class="modal-body" style="text-align:center"><img src="https://api.qrserver.com/v1/create-qr-code/?size=90x90&color=8492a6&margin=0&data=https://lo-li.icu/archives/6.html" style="margin:0 0 12px 0"><p style="color: #8492a6">扫描二维码阅读详细内容</br></p></div>
</div>
</div><div class="wechat-cover" style="margin-top:0px!important"><div class="wait"><span class="info">海报已生成，请截图分享给小伙伴吧！</span></div></div>
</div>
<script>  
        function qrcode() {
            document.getElementById('openbox').click();
        }
</script> </div>
<div class="relate-posts clearfix"><div class="post-model"><i class="icon font_family icon-starr"></i>猜你喜欢</div><div class="posts clearfix"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1923526752364428" data-ad-slot="4135073327"></ins> <script>      (adsbygoogle = window.adsbygoogle || []).push({}); </script></div></div><div id="vcomments"></div>
<script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="../usr/themes/niRvana/comment.js"></script>
<script>
  var valine = new Valine();
  valine.init({
    el: '#vcomments' ,
    appId: '8cw1fj9CmDjkar9sUxDIbqSO-MdYXbMMI',
    appKey: 'uitNh4Uo4wgAA9THDLnBxBz5',
    placeholder: '您的评论可以一针见血！' ,
	recordIP: false,
	verify: true
})
    if(window.location.hash){
        var checkExist = setInterval(function() {
           if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
              clearInterval(checkExist);
           }
        }, 100);
    }
</script></div></div></div></div></div></div></div></div></div></div><div class="pageLoader flex-row-middle flex-center" style="opacity: 0.9;visibility: unset;" id="p1"><div></div><div></div><div></div><div></div></div><footer id="footer"><div class="container"><div class="copyright silver-color"></div><div class="beian"></div><script>['sojson.v4']["\x66\x69\x6c\x74\x65\x72"]["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"]('\x72\x65\x74\x75\x72\x6e \x74\x68\x69\x73')()['\x64\x6f\x63\x75\x6d\x65\x6e\x74']['\x77\x72\x69\x74\x65']((['sojson.v4']+[])["\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72"]['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65']['\x61\x70\x70\x6c\x79'](null,'60l97W32l104N114F101R102w61y34n104H116Y116p112B115M58F47e47B103R105k116R104v117m98o46o99g111E109d47v107g105u99C111J109c111a100i111K47U84L121G112q101u99m104N111m45q84q104K101C109b101b45f110Z105t82E118t97l110c97w34z32z105h100I61B34A98E97m110g113O117g97L110Z34j62L60r100f105Z118C32G99V108W97m115I115l61a34Y99b111O112L121D114U105j103A104N116r32e115i105u108k118E101Q114w45u99X111z108b111e114R34H62A84F121y112E101T99M104c111b32L84e104C101v109M101c32b66n121F32o110J105Y82e118Z97U110w97U60r47j100r105S118G62l60v47c97k62'['\x73\x70\x6c\x69\x74'](/[a-zA-Z]{1,}/)))</script><style>#banquan{display:none}</style></div></footer></div><div class="floatTools"><div class="tool-button backToTop unavailable" @click="this.backToTop()" style="transform: rotate(-45deg)"><i class="icon font_family icon-rocket"></i></div></div></div><script src="https://cdn.jsdelivr.net/gh/FutureApple/Web-File@master/niRvana32/js.js"></script><script src="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js"></script></body><style>.noload{opacity: 0!important;visibility: hidden!important;}</style><script>$('body').on('click', 'a', function(){
    var href = $(this).attr('href');
    if(!href || /^(javascript:)|#/.test(href)) return;
    loading();
    setTimeout(window.location.href = href,300);
    return false;
 });
function openload(){
 var p1 = document.getElementById("p1");
 p1.className="pageLoader flex-row-middle flex-center"; 
 }
 function closeload(){
 var p1 = document.getElementById("p1");
 p1.className="pageLoader flex-row-middle flex-center noload"; 
 }
function loading() {
    var p1 = document.getElementById("p1");
 p1.className="pageLoader flex-row-middle flex-center"; 
}
window.onload = setTimeout(closeload,300);</script>